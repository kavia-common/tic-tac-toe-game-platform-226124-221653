{"is_source_file": true, "format": "JavaScript", "description": "This file defines a centralized API client for the Tic Tac Toe frontend application. It includes functions for constructing API URLs, making fetch requests with JSON handling and error normalization, managing loading/error states, and performing backend operations such as creating players, starting games, posting moves, retrieving game state and history, and fetching the leaderboard.", "external_files": ["/node_modules/node-fetch", "browser's fetch API"], "external_methods": ["fetch", "process.env"], "published": ["getApiBaseUrl", "createPlayer", "createGame", "getGame", "postMove", "getHistory", "getLeaderboard", "createLoadingState", "setLoading", "setSuccess", "setError", "api"], "classes": [], "methods": [{"name": "getApiBaseUrl()", "description": "Resolves the API base URL from environment variables or defaults to 'http://localhost:3001'. It normalizes the URL by removing trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "buildUrl(path)", "description": "Constructs a full endpoint URL by combining the base URL with a given path, ensuring proper slash formatting.", "scope": "", "scopeKind": ""}, {"name": "request(path, options = {})", "description": "Performs a fetch request to a specified path with options. Handles JSON responses and normalizes errors, attaching request URL info to errors.", "scope": "", "scopeKind": ""}, {"name": "createLoadingState()", "description": "Returns a standard object representing a loading state, with 'loading' and 'error' properties.", "scope": "", "scopeKind": ""}, {"name": "setLoading(stateObj)", "description": "Sets a state object to 'loading' mode by toggling 'loading' to true and clearing existing errors.", "scope": "", "scopeKind": ""}, {"name": "setSuccess(stateObj)", "description": "Marks a state object as successfully loaded by setting 'loading' to false and clearing errors.", "scope": "", "scopeKind": ""}, {"name": "setError(stateObj, error)", "description": "Marks a state object as errored by setting 'loading' to false and assigning an error object.", "scope": "", "scopeKind": ""}, {"name": "createPlayer(name)", "description": "Creates a new player on the backend using a provided name, returning the created player object.", "scope": "", "scopeKind": ""}, {"name": "createGame(playerXId, playerOId)", "description": "Creates a new game with specified player IDs for X and O.", "scope": "", "scopeKind": ""}, {"name": "getGame(id)", "description": "Retrieves the current state of a game by its ID.", "scope": "", "scopeKind": ""}, {"name": "postMove(gameId, position)", "description": "Posts a move for a game, specified by game ID and cell position.", "scope": "", "scopeKind": ""}, {"name": "getHistory(gameId)", "description": "Fetches move history for a given game.", "scope": "", "scopeKind": ""}, {"name": "getLeaderboard()", "description": "Fetches the global leaderboard.", "scope": "", "scopeKind": ""}], "calls": ["buildUrl", "getApiBaseUrl", "fetch", "request", "createPlayer", "createGame", "getGame", "postMove", "getHistory", "getLeaderboard"], "search-terms": ["tic-tac-toe API client", "frontend API helper", "player creation", "game management", "move posting", "leaderboard fetch", "environment variable base URL", "fetch wrapper"], "state": 2, "file_id": 18, "knowledge_revision": 43, "git_revision": "ec02f1e5b8c4f46bb6c4ccda4dc0edeef251ad83", "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "request.headers", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_API_BASE_URL", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^const DEFAULT_API_BASE_URL = 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildUrl", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^function buildUrl(path) {$/", "language": "JavaScript", "kind": "function", "signature": "(path)"}, {"_type": "tag", "name": "createGame", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function createGame(playerXId, playerOId) {$/", "language": "JavaScript", "kind": "function", "signature": "(playerXId, playerOId)"}, {"_type": "tag", "name": "createLoadingState", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export function createLoadingState() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createPlayer", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function createPlayer(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^  getApiBaseUrl,$/", "language": "JavaScript", "kind": "field", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export function getApiBaseUrl() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getGame", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function getGame(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getHistory", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function getHistory(gameId) {$/", "language": "JavaScript", "kind": "function", "signature": "(gameId)"}, {"_type": "tag", "name": "getLeaderboard", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function getLeaderboard() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^  const headers = {$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "postMove", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export async function postMove(gameId, position) {$/", "language": "JavaScript", "kind": "function", "signature": "(gameId, position)"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^async function request(path, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, options = {})"}, {"_type": "tag", "name": "setError", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export function setError(stateObj, error) {$/", "language": "JavaScript", "kind": "function", "signature": "(stateObj, error)"}, {"_type": "tag", "name": "setLoading", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export function setLoading(stateObj) {$/", "language": "JavaScript", "kind": "function", "signature": "(stateObj)"}, {"_type": "tag", "name": "setSuccess", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-226124-221653/tic_tac_toe_frontend/src/api/client.js", "pattern": "/^export function setSuccess(stateObj) {$/", "language": "JavaScript", "kind": "function", "signature": "(stateObj)"}], "hash": "7468394552b2be167d82afd69ade2162", "format-version": 4, "code-base-name": "tic_tac_toe_frontend", "filename": "tic_tac_toe_frontend/src/api/client.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "request.headers", "scopeKind": "class", "description": "unavailable"}, {"name": "getApiBaseUrl,", "scope": "api", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"43": "ec02f1e5b8c4f46bb6c4ccda4dc0edeef251ad83"}]}